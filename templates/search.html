{% include 'header.html' %}

<div class="container">
    <div class="showcase showcase-full" id="showcase-full">
        <h2>{{results.total_results }} Results for {{ string }}</h2>
        <h3>Page {{ results.page }} of {{ results.total_pages }}</h3>
        <div class="pagination">
            {% if results.page > 1 %}
            <a href="{{url_for('search')}}?query={{string}}&page={{results.page-1}}">
                <button class="load-more">Previous</button>
            </a>
            {% endif %}
            {% if results.total_pages > 1 %}
                {% if results.page < results.total_pages %}
                    <a href="{{url_for('search')}}?query={{string}}&page={{results.page+1}}">
                        <button class="load-more">Next</button>
                    </a>
                {% endif %}
            {% endif %}
        </div>
        <div class="showcase-slider search">
            {% for movie in results.results %}
                <a href="{{ url_for('getMovie', id=movie.id) }}" class="showcase-link">
                    <div class="showcase-slide-card">
                            <div class="poster">
                                <img class="poster-img" src="https://image.tmdb.org/t/p/original{{movie.poster_path}}">
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <span>{{movie.vote_average}}</span>
                                </div>
                            </div>
                        <h2>{{movie.original_title}}</h2>
                        <p>{{movie.release_date}}</p>
                    </div>
                </a>
            {% endfor %}
        </div>
        <div class="pagination">
            {% if results.page > 1 %}
            <a href="{{url_for('search')}}?query={{string}}&page={{results.page-1}}">
                <button class="load-more">Previous</button>
            </a>
            {% endif %}
            {% if results.total_pages > 1 %}
                {% if results.page < results.total_pages %}
                    <a href="{{url_for('search')}}?query={{string}}&page={{results.page+1}}">
                        <button class="load-more">Next</button>
                    </a>
                {% endif %}
            {% endif %}
        </div>
    </div>
</div>



{% include 'footer.html' %}
